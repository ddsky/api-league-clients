# NOTE: This file is auto generated by OpenAPI Generator 7.8.0-SNAPSHOT (https://openapi-generator.tech).
# Do not edit this file manually.

defmodule APILeague.Api.Games do
  @moduledoc """
  API calls for all endpoints tagged `Games`.
  """

  alias APILeague.Connection
  import APILeague.RequestBuilder

  @doc """
  Find Similar Games API
  Find similar games based on a given game using AI. This API allows you to retrieve a list of games that are similar to a specified game, providing recommendations based on various factors such as genre, gameplay mechanics, and user preferences.

  ### Parameters

  - `connection` (APILeague.Connection): Connection to server
  - `id` (integer()): The id of the game.
  - `opts` (keyword): Optional parameters
    - `:limit` (integer()): Number of results to return between 1 and 10.

  ### Returns

  - `{:ok, APILeague.Model.FindSimilarGamesApi200Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec find_similar_games_api(Tesla.Env.client, integer(), keyword()) :: {:ok, nil} | {:ok, APILeague.Model.FindSimilarGamesApi200Response.t} | {:error, Tesla.Env.t}
  def find_similar_games_api(connection, id, opts \\ []) do
    optional_params = %{
      :limit => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/list-similar-games")
      |> add_param(:query, :id, id)
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, APILeague.Model.FindSimilarGamesApi200Response},
      {401, false},
      {402, false},
      {403, false},
      {404, false},
      {406, false},
      {429, false}
    ])
  end

  @doc """
  Retrieve Game by Id
  This API allows you to retrieve detailed information about a specific game by its unique identifier. Game details include the game's name, description, release date, developer, platforms, genres, tags, ratings, screenshots, videos, and more.

  ### Parameters

  - `connection` (APILeague.Connection): Connection to server
  - `id` (integer()): The id of the game.
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, APILeague.Model.RetrieveGameById200Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec retrieve_game_by_id(Tesla.Env.client, integer(), keyword()) :: {:ok, nil} | {:ok, APILeague.Model.RetrieveGameById200Response.t} | {:error, Tesla.Env.t}
  def retrieve_game_by_id(connection, id, _opts \\ []) do
    request =
      %{}
      |> method(:get)
      |> url("/retrieve-game")
      |> add_param(:query, :id, id)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, APILeague.Model.RetrieveGameById200Response},
      {401, false},
      {402, false},
      {403, false},
      {404, false},
      {406, false},
      {429, false}
    ])
  end

  @doc """
  Search Games API
  Search through a vast database of over half a million video games from more than 50 platforms. This API allows you to find games based on various criteria such as genre, platform, release date, and more. The results include detailed information about each game, including ratings, descriptions, and images.

  ### Parameters

  - `connection` (APILeague.Connection): Connection to server
  - `opts` (keyword): Optional parameters
    - `:query` (String.t): The search query.
    - `:offset` (integer()): Pagination offset (start index) between 0 and 1000.
    - `:limit` (integer()): Number of results to return between 1 and 100.
    - `:filters` (String.t): JSON array of filters
    - `:sort` (String.t): Field to sort by
    - `:"sort-order"` (String.t): Sort order (asc or desc)
    - `:"generate-filter-options"` (boolean()): Whether to generate filter options

  ### Returns

  - `{:ok, APILeague.Model.SearchGamesApi200Response.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec search_games_api(Tesla.Env.client, keyword()) :: {:ok, nil} | {:ok, APILeague.Model.SearchGamesApi200Response.t} | {:error, Tesla.Env.t}
  def search_games_api(connection, opts \\ []) do
    optional_params = %{
      :query => :query,
      :offset => :query,
      :limit => :query,
      :filters => :query,
      :sort => :query,
      :"sort-order" => :query,
      :"generate-filter-options" => :query
    }

    request =
      %{}
      |> method(:get)
      |> url("/search-games")
      |> add_optional_params(optional_params, opts)
      |> Enum.into([])

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, APILeague.Model.SearchGamesApi200Response},
      {401, false},
      {402, false},
      {403, false},
      {404, false},
      {406, false},
      {429, false}
    ])
  end
end
